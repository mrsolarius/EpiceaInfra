# ========================================
# Monitoring Stack - Environment Variables
# Générée par Ansible pour {{ deploy_environment }}
# ========================================

# Prometheus
PROMETHEUS_RETENTION={{ prometheus_retention | default('15d') }}

# Grafana
GRAFANA_ADMIN_USER={{ grafana_admin_user | default('admin') }}
GRAFANA_ADMIN_PASSWORD={{ grafana_admin_password }}
GRAFANA_DOMAIN={{ service_domains.grafana }}
GRAFANA_ROOT_URL={{ 'https' if enable_letsencrypt else 'http' }}://{{ service_domains.grafana }}
GRAFANA_PLUGINS={{ grafana_plugins | default('') }}

# Traefik integration
GRAFANA_TLS_ENABLED={{ 'true' if enable_letsencrypt else 'false' }}
GRAFANA_CERT_RESOLVER={{ 'letsencrypt' if enable_letsencrypt else '' }}
GRAFANA_MIDDLEWARES={{ grafana_middlewares | default('') }}

# Database credentials for exporters
NEXTCLOUD_DB_USER={{ postgres_databases.nextcloud.user }}
NEXTCLOUD_DB_PASSWORD={{ postgres_databases.nextcloud.password }}
NEXTCLOUD_DB_NAME={{ postgres_databases.nextcloud.user }}

IMMICH_DB_USER={{ postgres_databases.immich.user }}
IMMICH_DB_PASSWORD={{ postgres_databases.immich.password }}
IMMICH_DB_NAME={{ postgres_databases.immich.user }}

# Redis credentials
REDIS_PASSWORD={{ redis_password }}
