# ========================================
# Monitoring Stack - Environment Variables
# Générée par Ansible pour {{ deploy_environment }}
# ========================================

# Prometheus
PROMETHEUS_RETENTION={{ prometheus_retention | default('15d') }}

# Grafana
GRAFANA_ADMIN_USER={{ grafana_admin_user | default('admin') }}
GRAFANA_ADMIN_PASSWORD={{ grafana_admin_password }}
GRAFANA_DOMAIN={{ service_domains.grafana }}
GRAFANA_ROOT_URL={{ 'https' if enable_letsencrypt else 'http' }}://{{ service_domains.grafana }}
GRAFANA_PLUGINS={{ grafana_plugins | default('') }}

# Traefik integration
GRAFANA_TLS_ENABLED={{ 'true' if enable_letsencrypt else 'false' }}
GRAFANA_CERT_RESOLVER={{ 'letsencrypt' if enable_letsencrypt else '' }}
GRAFANA_MIDDLEWARES={{ grafana_middlewares | default('') }}

# Database credentials for exporters
POSTGRES_USER={{ postgres_user | default('postgres') }}
POSTGRES_PASSWORD={{ postgres_root_password }}
POSTGRES_DB={{ postgres_db | default('postgres') }}

# Redis credentials
REDIS_PASSWORD={{ redis_password }}
