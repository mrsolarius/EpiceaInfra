global:
  resolve_timeout: 5m

route:
  group_by: ['alertname', 'service', 'severity']
  group_wait: 10s
  group_interval: 1m
  repeat_interval: 12h
  receiver: 'discord-notifications'

receivers:
- name: 'discord-notifications'
  discord_configs:
  - webhook_url: '{{ discord_webhook_url }}'
    send_resolved: true
    title: |
      {% raw %}{{ if eq .Status "firing" }}{{ if eq .CommonLabels.severity "critical" }}üö® CRITIQUE{{ else }}‚ö†Ô∏è WARNING{{ end }}{{ else }}‚úÖ R√âTABLI{{ end }} : {{ .CommonLabels.alertname }}{% endraw %}

    message: |
      {% raw %}### √âtat du Syst√®me
      > üìù **Statut :** `{{ .Status | toUpper }}`
      > ‚öôÔ∏è **Service :** `{{ if .CommonLabels.service }}{{ .CommonLabels.service }}{{ else }}N/A{{ end }}`
      > ‚ö° **S√©v√©rit√© :** `{{ .CommonLabels.severity | toUpper }}`

      **Informations**
      ‚Ä¢ **R√©sum√© :** _{{ .CommonAnnotations.summary }}_
      ‚Ä¢ **Description :** {{ .CommonAnnotations.description }}
      ‚Ä¢ **Instance :** `{{ .CommonLabels.instance }}`

      ---
      *Envoyer avec* ‚ù§Ô∏è *par Owl Alert* ü¶â{% endraw %}